<div class="card combat-log-card">
    <div class="card-header">
        <h4>Combat Log</h4>
    </div>
    <div class="card-body p-2">
        @if (LogEntries == null || !LogEntries.Any())
        {
            <p class="text-muted text-center py-3">No entries yet</p>
        }
        else
        {
            <div class="combat-log-container">
                @foreach (var entry in LogEntries.OrderByDescending(e => e.Timestamp).Take(20))
                {
                    <div class="combat-log-entry log-@entry.Type.ToLower() fade-in">
                        <div class="log-entry-header">
                            <span class="badge @GetBadgeClass(entry.Type)">@entry.Type</span>
                            <small class="text-muted">Round @entry.Round</small>
                            <small class="text-muted">@entry.Timestamp.ToString("HH:mm:ss")</small>
                        </div>
                        <div class="log-entry-message">@entry.Message</div>
                    </div>
                }
            </div>
        }
    </div>
</div>

@code {
    /// <summary>
    /// List of combat log entries to display.
    /// </summary>
    [Parameter]
    public List<CombatLogEntry> LogEntries { get; set; } = new();

    /// <summary>
    /// Gets the appropriate Bootstrap badge class based on the entry type.
    /// </summary>
    /// <param name="type">The type of log entry.</param>
    /// <returns>Bootstrap badge class string.</returns>
    private string GetBadgeClass(string type)
    {
        return type switch
        {
            "Turn" => "bg-primary",
            "Damage" => "bg-danger",
            "Heal" => "bg-success",
            "Status" => "bg-warning",
            _ => "bg-secondary"
        };
    }
}
